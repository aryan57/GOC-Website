<table id = "user-table" class="table table-bordered table-striped" >
    {# <colgroup>
        <col span="1" style="width:70%"></col>
        <col span="1" style="width:15%"></col>
        <col span="1" style="width:15%"></col>
    </colgroup> #}
    <thead>
        <tr>
            <th></th>
            <th>Username</th>
            <th>Rating</th>
            <th>Max Rating</th>
        </tr>
    </thead>
    <tbody>
        {% for kgpian in kgpians %}
        <tr>
            <td></td>
            <td>{{kgpian.username}}</td>
            <td>{{kgpian.rating}}</td>
            <td>{{kgpian.max_rating}}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<script>
$(document).ready(function() {
    var userTable = $('#user-table').DataTable({
        'order' : [[2, 'desc']]
    });
    userTable.on( 'order.dt search.dt', function () {
        userTable.column(0, {search:'applied', order:'applied'}).nodes().each( function (cell, i) {
            cell.innerHTML = i+1;
        } );
    } ).draw();

} ); 
</script>